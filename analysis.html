<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>数据可视化技术结合船舶平台的初步探究</title>
    <link href="css/analysis.css" rel="stylesheet" />
</head>
<body>
    <div class="index_nav" >
        <ul style="height: 30px; margin-bottom: 0px;">
            <li class="l_left total_chose_fr"><p id="clickTag">实时监测</p></li>
          
            <li class="r_right total_chose_pl nav_active">统计分析</li>
        </ul>
    </div>
    <div class="content">
        <div class="left">
            <!--气压-->
            <div class="air">
                <div class="air-title title numfont">气压</div>
                <div class="air-relative">
                    <div class="air-val">
                        <div class="numfont">
                            <p class="hpa-rel"></p>
                            <p class="hpa-nam">相对气压</p>
                        </div>
                    </div>
                    <div class="gray">

                    </div>
                    <div class="light">

                    </div>
                    <div class="unit">KPA</div>
                </div>
                <div class="air-absolutely">
                    <div class="air-val">
                        <div class="numfont">
                            <p class="hpa-abs"></p>
                            <p class="hpa-nam">绝对气压</p>
                        </div>
                    </div>
                    <div class="gray">

                    </div>
                    <div class="light">

                    </div>
                    <div class="unit">KPA</div>
                </div>
            </div>
            <!--气压 end-->
            <!--温度和湿度-->
            <div class="tem-hum">
                <div class="temperature">
                    <div class="tem-hum-title numfont">温度仪表盘</div>
                    <div class="tem-hum-chart" id="temChart">

                    </div>
                    <div class="tem-val">
                        <span class="indoor">室内27℃</span>
                        <span class="outdoor">室外22℃</span>
                    </div>
                </div>
                <div class="humidity">
                    <div class="tem-hum-title numfont">湿度仪表盘</div>
                    <div class="tem-hum-chart" id="humChart">

                    </div>
                    <div class="hum-val">
                        <span class="indoor">室内34%</span>
                        <span class="outdoor">室外32%</span>
                    </div>
                </div>
            </div>
            <!--温度和湿度 end-->
            <!--温度一周k线图-->
            <div class="temp-k">
                <div class="title numfont">室外十日温度曲线</div>
                <div id="tempKChart">

                </div>
            </div>
            <!--温度一周k线图 end-->

            <!--湿度一走k线图-->
            <div class="dity-k">
                <div class="title numfont">室外十日湿度曲线</div>
                <div id="dityKChart">

                </div>
            </div>
            <!--湿度一走k线图 end-->
        </div>
        <div class="right">
            <div class="information">
                <!--基本信息-->
                <div class="baseInfo">
                    <p class="infoTitle">TEST SITE</p>
                    <p class="area">LP-COUNTY</p>
                    <p class="infoTitle">
                        TEST DATE
                        <span class="date">2017-08-06</span>
                    </p>
                    <p class="infoTitle">
                        SITE ID
                        <span class="idNum">1921210001</span>
                    </p>
                    <p class="infoTitle">
                        <span class="infoTitle" style="display: inline-block;margin-right: 40px;">TESTING<br>TIME</span>
                        <span class="days">70</span>
                        <span class="infoTitle">DAY</span>
                    </p>

                </div>
                <!--基本信息 end-->
                <!--温度/露点/风寒/热指数-->
                <div class="temData">
                    <p class="infoTitle" style="margin-bottom: 0;font-size: 12px;">INDOOR MAXIMUM</p>
                    <p class="temTitle">TEMPERATURE</p>
                    <p class="indoorTem"><span class="temperatureN">70</span>℃</p>
                    <p class="infoTitle point">
                        DEW POINT
                        <span class="dewpoint">21℃</span>
                    </p>
                  
                </div>
                <!--温度/露点/风寒/热指数 end-->
            </div>
            <!--风-->
            <div class="wind">
                <div class="air-title title numfont">风指数及螺旋桨转速</div>
                <div id="windChart">

                </div>
                <div class="windData">
                    <div class="windSpeed">
                        <div class="windTitle numfont">12h风速</div>
                        <div class="windBox">
                            <div style="width: 33%;margin-left: 4%;">
                                <p>当前风速</p>
                                <p><span class="currentSpeed" id="nowWind">6.9</span>M/S</p>
                            </div>
                            <div style="width: 33%;">
                                <p>最大风速</p>
                                <p><span class="highestSpeed" id="highWind">16.7</span>M/S</p>
                            </div>
                            <div style="width: 30%">
                                <div class="windWrap">
                                    <img src="img/wind1.png" class="windFan">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="gust">
                        <div class="windTitle numfont">12h螺旋桨转速</div>
                        <div class="windBox">
                            <div style="width: 33%;margin-left: 4%;">
                                <p>平均转速</p>
                                <p><span class="currentSpeed" id="nowGust">400</span>rmp</p>
                            </div>
                            <div style="width: 33%;">
                                <p>最高转速</p>
                                <p><span class="highestSpeed" id="highGust">460</span>rmp</p>
                            </div>
                            <div style="width: 30%">
                                <div class="windWrap">
                                    <img src="img/wind1.png" class="windFan">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--风 end-->
            <!--降雨量-->
            <div class="rainfall">
                <div class="air-title title numfont">降雨量</div>
                <div class="windData">
                    <div class="windSpeed">
                        <div class="windTitle numfont">日均降雨量</div>
                        <div class="windBox">
                            <div style="width: 33%;margin-left: 4%;">
                                <p>当前降雨量</p>
                                <p><span class="currentSpeed" id="nowDay">23</span>MM</p>
                            </div>
                            <div style="width: 31%;margin-left: 2%">
                                <p>最高降雨量</p>
                                <p><span class="highestSpeed" id="highDay">32</span>MM</p>
                            </div>
                            <div style="width: 30%">
                                <div class="rainWrap" style="margin: 10px auto;text-align: center;">
                                    <canvas id="rainfallOne" ></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="gust">
                        <div class="windTitle numfont">周均降雨量</div>
                        <div class="windBox">
                            <div style="width: 33%;margin-left: 4%;">
                                <p>当前降雨量</p>
                                <p><span class="currentSpeed" id="nowWeek">20</span>MM</p>
                            </div>
                            <div style="width: 31%;margin-left: 2%">
                                <p>最高降雨量</p>
                                <p><span class="highestSpeed" id="highWeek">33</span>MM</p>
                            </div>
                            <div style="width: 30%">
                                <div class="rainWrap" style="margin: 10px auto;text-align: center;">
                                    <canvas id="rainfallTwo"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="windData">
                    <div class="windSpeed">
                        <div class="windTitle numfont">月均降雨量</div>
                        <div class="windBox">
                            <div style="width: 33%;margin-left: 4%;">
                                <p>当前降雨量</p>
                                <p><span class="currentSpeed" id="nowMonth">15</span>MM</p>
                            </div>
                            <div style="width: 31%;margin-left: 2%">
                                <p>最高降雨量</p>
                                <p><span class="highestSpeed" id="highMonth">32</span>MM</p>
                            </div>
                            <div style="width: 30%">
                                <div class="rainWrap" style="margin: 10px auto;text-align: center;">
                                    <canvas id="rainfallThree"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="gust">
                        <div class="windTitle numfont">年均降雨量</div>
                        <div class="windBox">
                            <div style="width: 33%;margin-left: 4%;">
                                <p>当前降雨量</p>
                                <p><span class="currentSpeed" id="nowYear">14</span>MM</p>
                            </div>
                            <div style="width: 31%;margin-left: 2%">
                                <p>最高降雨量</p>
                                <p><span class="highestSpeed" id="highYear">37</span>MM</p>
                            </div>
                            <div style="width: 30%">
                                <div class="rainWrap" style="margin: 10px auto;text-align: center;">
                                    <canvas id="rainfallFour"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--降雨量 end-->
        </div>
    </div>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/echarts.js"></script>
    <script src="js/china.js"></script>
    <script src="js/render.js"></script>

    <script>
        $(function(){

            $("#clickTag").click(function(){
                window.location.href='index.html'
            })
            for(var i=0;i<50;i++){
                $('.air-relative').find('.gray').append('<span></span>');
                $('.air-absolutely').find('.gray').append('<span></span>')
            }
            var pressureValRel=0;//初始气压(相对)
            var pressureValNowRel=32;//当前气压（相对）
            function airPreRel(now,old,par){
                if(now>old){
                    par.find('.light').append('<span></span>');
                    pressureValRel++;
                }else if(now<old){
                    par.find('.light').children('span:last-child').remove();
                    pressureValRel--;
                }else{
                    clearInterval(pressureRunRel);
                    return
                }
                $('.hpa-rel').text(pressureValRel*2);
            }
            var pressureRunRel=setInterval(function(){
                airPreRel(pressureValNowRel,pressureValRel,$('.air-relative'));
            },50);

            var pressureValAbs=0;//初始气压(绝对)
            var pressureValNowAbs=21;//当前气压（绝对）
            function airPreAbs(now,old,par){
                if(now>old){
                    par.find('.light').append('<span></span>');
                    pressureValAbs++;
                }else if(now<old){
                    par.find('.light').children('span:last-child').remove();
                    pressureValAbs--;
                }else{
                    clearInterval(pressureRunAbs);
                    return
                }
                $('.hpa-abs').text(pressureValAbs*2);
            }
            var pressureRunAbs=setInterval(function(){
                airPreAbs(pressureValNowAbs,pressureValAbs,$('.air-absolutely'));
            },50);

            //温度和湿度
            var temChart=echarts.init(document.getElementById('temChart'));
            var humChart=echarts.init(document.getElementById('humChart'));
            var temOption={
                tooltip:{
                   formatter:'{a}<br/>当前：{c}℃'
                },
                series:[
                    //内圈
                    {
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius : '30%',
                        min:0,
                        max:10,
                        startAngle: 270,
                        endAngle: -89.99999,
                        splitNumber:10,
                        axisLine: {            // 仪表盘轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: [[1, '#ff4500']],
                                width: 0,
                                shadowColor : '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisLabel: {            // 刻度标签
                            show:false
                        },
                        axisTick: {            // 刻度
                            length :4,        // 属性length控制线长
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: 'rgba(176,204,53,.5)'
                            }
                        },
                        splitLine: {           // 分隔线
                            show:false
                        },
                        pointer: {
                            width:0,
                            shadowColor : '#fff', //默认透明
                            shadowBlur: 5
                        },
                        detail : {
                            show : false
                        }
                    },
                    //中圈
                    {
                        name:'转速',
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius : '60%',
                        min:0,
                        max:10,
                        splitNumber:10,
                        axisLine: {            // 坐标轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: [[1,'#6E6560' ]],
                                width: 8,
                                shadowBlur: 10
                            }
                        },
                        axisLabel: {            // 刻度
                            textStyle: {       // 属性lineStyle控制线条样式
                                fontWeight:'' ,
                                color: 'rgba(30,144,255,0)',
                                shadowColor : '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisTick: {            // 坐标轴小标记
                            length :2,        // 属性length控制线长
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: 'auto'
                                /*shadowColor : '#fff', //默认透明
                                 shadowBlur: 10*/
                            }
                        },
                        splitLine: {           // 分隔线
                            length :0,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                width:0,
                                color: '#fff',
                                shadowColor : '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: {
                            width:0,
                            shadowColor : '#fff', //默认透明
                            shadowBlur: 5
                        },
                        detail : {
                            show : false
                        }
                    },
                    //外圈室内
                    {
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius:'100%',
                        min:0,
                        max:100,
                        name:'室内',
                        axisLine: {            // 坐标轴线
                            lineStyle: {
                                color: [[1, '#C7C5C3']],// 属性lineStyle控制线条样式
                                width: 1
                            }
                        },
                        itemStyle:{
                            normal:{
                                color:'#FF0000'
                            }
                        },
                        axisTick:{
                            length:3
                        },
                        axisLabel: {            // 坐标轴小标记
                            textStyle: {       // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                fontSize : 10,
                                fontFamily:'numfont'
                            }
                        },
                        splitLine: {           // 分隔线
                            length : 5,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                width:1
                            }
                        },
                        pointer:{
                            width:3,
                            length:'90%'
                        },
                        detail : {
                            show : false
                        },
                        data:[{value: 40}]
                    },
                    //外圈室外
                    {
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius : '100%',
                        min:0,
                        max:100,
                        name:'室外',
                        axisTick:{
                            length:3
                        },
                        axisLine: {            // 坐标轴线
                            lineStyle: {
                                color: [[1, '#C7C5C3']],// 属性lineStyle控制线条样式
                                width: 1
                            }
                        },
                        pointer:{
                            width:3,
                            length:'90%'
                        },
                        itemStyle:{
                            normal:{
                                color:'#B0CC35'
                            }

                        },
                        axisLabel: {
                            textStyle: {
                                fontWeight: 'bolder',
                                fontSize : 16,
                                color: 'rgba(30,144,255,0)'
                            }
                        },
                        splitLine: {           // 分隔线
                            length : 5,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                width:1
                            }
                        },
                        detail : {
                            show : false
                        },
                        data:[{value: 58}],
                        title:{
                            show:false
                        }
                    }
                ]
            };
            var humOption={
                tooltip:{
                    formatter:'{a}<br/>当前：{c}%'
                },
                series : [
                    //内圈
                    {
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius : '30%',
                        min:0,
                        max:10,
                        startAngle: 270,
                        endAngle: -89.99999,
                        splitNumber:10,
                        axisLine: {            // 仪表盘轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: [[1, '#ff4500']],
                                width: 0,
                                shadowColor : '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisLabel: {            // 刻度标签
                           show:false
                        },
                        axisTick: {            // 刻度
                            length :4,        // 属性length控制线长
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: 'rgba(176,204,53,.5)'
                            }
                        },
                        splitLine: {           // 分隔线
                           show:false
                        },
                        pointer: {
                            width:0,
                            shadowColor : '#fff', //默认透明
                            shadowBlur: 5
                        },
                        detail : {
                            show : false
                        }
                    },
                    //中圈
                    {
                        name:'转速',
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius : '60%',
                        min:0,
                        max:10,
                        splitNumber:10,
                        axisLine: {            // 坐标轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: [[1,'#6E6560' ]],
                                width: 8,

                                shadowBlur: 10
                            }
                        },
                        axisLabel: {            // 刻度
                            textStyle: {       // 属性lineStyle控制线条样式
                                fontWeight:'' ,
                                color: 'rgba(30,144,255,0)',
                                shadowColor : '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        axisTick: {            // 坐标轴小标记
                            length :2,        // 属性length控制线长
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: 'auto'
                                /*shadowColor : '#fff', //默认透明
                                 shadowBlur: 10*/
                            }
                        },
                        splitLine: {           // 分隔线
                            length :0,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                width:0,
                                color: '#fff',
                                shadowColor : '#fff', //默认透明
                                shadowBlur: 10
                            }
                        },
                        pointer: {
                            width:0,
                            shadowColor : '#fff', //默认透明
                            shadowBlur: 5
                        },
                        detail : {
                            show : false
                        }
                    },
                    //外圈室内
                    {
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius:'100%',
                        min:0,
                        max:100,
                        name:'室内',
                        axisLine: {            // 坐标轴线
                            lineStyle: {
                                color: [[1, '#C7C5C3']],// 属性lineStyle控制线条样式
                                width: 1
                            }
                        },
                        itemStyle:{
                            normal:{
                                color:'#FF0000'
                            }
                        },
                        axisTick:{
                            length:3
                        },
                        axisLabel: {            // 坐标轴小标记
                            textStyle: {       // 属性lineStyle控制线条样式
                                fontWeight: 'bolder',
                                fontSize : 10,
                                fontFamily:'numfont'
                            }
                        },
                        splitLine: {           // 分隔线
                            length : 5,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                width:1
                            }
                        },
                        pointer:{
                            width:3,
                            length:'90%'
                        },
                        detail : {
                            show : false
                        },
                        data:[{value: 40}]
                    },
                    //外圈室外
                    {
                        type:'gauge',
                        center : ['50%', '60%'],    // 默认全局居中
                        radius : '100%',
                        min:0,
                        max:100,
                        name:'室外',
                        axisTick:{
                            length:3
                        },
                        axisLine: {            // 坐标轴线
                            lineStyle: {
                                color: [[1, '#C7C5C3']],// 属性lineStyle控制线条样式
                                width: 1
                            }
                        },
                        pointer:{
                            width:3,
                            length:'90%'
                        },
                        itemStyle:{
                            normal:{
                                color:'#B0CC35'
                            }

                        },
                        axisLabel: {
                            textStyle: {
                                fontWeight: 'bolder',
                                fontSize : 16,
                                color: 'rgba(30,144,255,0)'
                            }
                        },
                        splitLine: {           // 分隔线
                            length : 5,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                width:1
                            }
                        },
                        detail : {
                            show : false
                        },
                        data:[{value: 58}],
                        title:{
                            show:false
                        }
                    }

                ]
            };
            temChart.setOption(temOption);
            humChart.setOption(humOption);
            var temVal=[25,36];
            var humVal=[21,30];
            function temHum(tem,hum){
                temOption.series[2].data[0].value=tem[0];
                temOption.series[3].data[0].value=tem[1];
                temChart.setOption(temOption);
                $('.tem-val').find('.indoor').text("室内"+tem[0]+'℃');
                $('.tem-val').find('.outdoor').text("室外"+tem[1]+'℃');
                humOption.series[2].data[0].value=hum[0];
                humOption.series[3].data[0].value=hum[1];
                humChart.setOption(humOption);
                $('.hum-val').find('.indoor').text("室内"+hum[0]+"%");
                $('.hum-val').find('.outdoor').text("室外"+hum[1]+"%");
            }
            setInterval(function(){
                temVal[0]=Math.round(Math.random()*50);
                temVal[1]=23 + Math.round(Math.random()*15);
                humVal[0]=Math.round(Math.random()*50);
                humVal[1]=23 + Math.round(Math.random()*20);
                temHum(temVal,humVal);
            },5000);
            //温度k线值
            //温度数据：最低温度，最高温度
            var data = [
                ['2021/4/24', 23,28,23,28],
                ['2021/4/25', 21,24,21,24],
                ['2021/4/26', 28,24,28,24],
                ['2021/4/27', 21,24,21,24],
                ['2021/4/28', 27,21,27,21],
                ['2021/4/29', 20,23,20,23],
                ['2021/4/31', 23,28,23,28],
                ['2021/4/1', 22,24,22,24],
                ['2021/4/2', 26,24,26,24],
                ['2021/4/3', 21,24,21,24],
                ['2021/4/4', 29,22,29,22],
                ['2021/4/5', 24,33,24,33],
                ['2021/4/6', 23,29,27,29],
                ['2021/4/7', 30,27,30,27],
                ['2021/4/8', 21,32,21,32],
                ['2021/4/9', 31,24,31,24],
                ['2021/4/10', 27,24,27,24],
                ['2021/4/11', 22,34,22,34],
                ['2021/4/12', 20,22,20,22],
                ['2021/4/13', 21,24,21,24],
                ['2021/4/14', 25,33,25,33],
                ['2021/4/15', 22,27,22,27],
            ];
            //数据序列化
            function splitData(rawData) {
                var categoryData = [];
                var values = [];
                for (var i = 0; i < rawData.length; i++) {
                    categoryData.push(rawData[i].splice(0, 1)[0]);
                    values.push(rawData[i])
                }
                return {
                    categoryData: categoryData,
                    values: values
                };
            }
            var data0=splitData(data);

            function calculateMA(dayCount, data) {
                var result = [];
                for (var i = 0, len = data.length; i < len; i++) {
                    if (i < dayCount) {
                        result.push('-');
                        continue;
                    }
                    var sum = 0;
                    for (var j = 0; j < dayCount; j++) {
                        sum += data[i - j][1];
                    }
                    result.push((sum / dayCount).toFixed(2));
                }
                return result;
            }

            var dataMA5 = calculateMA(5, data0.values);
            var dataMA10 = calculateMA(10, data0.values);
            var dataMA20 = calculateMA(20, data0.values);

            var temKOption={
                tooltip:{//提示框组件
                    trigger: 'axis',//坐标轴触发
                    axisPointer: {
                        type: 'cross'
                    },
                    width:2
                },
                legend:{
                    data:['日K','MA5','MA10'],
                    top:0,
                    textStyle:{
                        color:'#fff'
                    }
                },

                xAxis: {
                    type: 'category',
                    data: data0.categoryData,
                    boundaryGap : false,
                    axisLine: { lineStyle: { color: '#777' } }
                },
                yAxis: {
                    scale: true,
                    splitNumber: 4,//坐标轴的分割段数
                    axisLine: { lineStyle: { color: '#777' } },
                    splitLine: {
                        show: true,
                        lineStyle:{
                            color:'#777'
                        }
                    },//坐标轴在 ((grid)) 区域中的分隔线。
                    axisTick: {
                        show: false
                    },//刻度
                    axisLabel: {//标签
                        formatter: '{value}℃'
                    }
                },
                dataZoom: [
                    {
                        type: 'inside',
                        start: 50,
                        end: 100
                    }
                ],
                grid: [{//直角坐标系内绘图网格
                    height:'60%',
                    top: 25
                }],
                series:[
                    {
                        type: 'candlestick',
                        name: '日K',
                        data: data0.values,
                        barWidth:'15%',
                        //barMinWidth:'10%',
                        itemStyle: {
                            normal: {
                                color: 'red',
                                color0: '#B0CC35',
                                borderColor: 'red',
                                borderColor0: '#B0CC35'
                            }
                        }
                    },
                    {
                        name: 'MA5',
                        type: 'line',
                        data: calculateMA(5,data0.values),
                        smooth: true
                    },
                    {
                        name: 'MA10',
                        type: 'line',
                        data: calculateMA(10,data0.values),
                        smooth: true,
                        itemStyle:{
                            normal:{
                                color:'#B0CC35'
                            }
                        }
                    }
                ]
            };
            //温度k线图
            var tempKChart=echarts.init(document.getElementById('tempKChart'));
            tempKChart.setOption(temKOption);
            //湿度K线图
            var dityKChart=echarts.init(document.getElementById('dityKChart'));
            var humKOption=temKOption;
            humKOption.yAxis.axisLabel.formatter='{value}%';
            dityKChart.setOption(humKOption);


            //风向图
            var windOption={
                tooltip:{},
                radar:{
                    indicator:[
                        {name:'N',max:12},
                        {name:'NNW',max:12},
                        {name:'NW',max:12},
                        {name:'WNW',max:12},
                        {name:'W',max:12},
                        {name:'WSW',max:12},
                        {name:'SW',max:12},
                        {name:'SSW',max:12},
                        {name:'S',max:12},
                        {name:'SSE',max:12},
                        {name:'SE',max:12},
                        {name:'ESE',max:12},
                        {name:'E',max:12},
                        {name:'ENE',max:12},
                        {name:'NE',max:12},
                        {name:'NNE',max:12}
                    ],
                    name:{
                      textStyle:{
                          color:'rgba(176,204,53,1)'
                      }
                    },
                    axisLine: {
                        lineStyle: {
                            color: 'rgba(255, 255, 255, 0.4)'
                        }
                    },
                    splitLine: {
                        lineStyle: {
                            color: 'rgba(255, 255, 255, 0.4)'
                        }
                    },
                    splitArea:{
                        areaStyle:{
                            color:'rgba(255,255,255,0)'
                        }
                    }
                },
                series:[{
                    type:'radar',
                    data:[
                        {
                            value:[2.8,5.3,7.1,5.4,10.6,8.5,5.1,2.1,2.9,4.0,9.4,6.3,3.5,0.9,1,0.9],
                            name:'2020'
                        }
                    ],
                    areaStyle:{
                        normal:{
                            color:'rgba(176,204,53,.5)'
                        }
                    },
                    lineStyle:{
                        normal:{
                            color:'rgba(176,204,53,.7)'

                        }
                    },
                    symbol:'circle',
                    symbolSize:6,
                    itemStyle:{
                        normal:{
                            color:'#A9C33B'
                        }
                    }
                }]
            };
            var windChart=echarts.init(document.getElementById('windChart'));
            windChart.setOption(windOption);

            //风速与阵风数据
            var speed={
                wind:[6.2,12.8],
                gust:[410,460]
            };
            function getData(){
                $('#nowWind').text(speed.wind[0]);
                $('#highWind').text(speed.wind[1]);
                var windSpeed=(50-speed.wind[0])*10;
                $('.windSpeed .windFan').css('animation-duration', windSpeed+'ms');
                $('#nowGust').text(speed.gust[0]);
                $('#highGust').text(speed.gust[1]);
                var gustSpeed=(50-speed.gust[0])*10;
                $('.gust .windFan').css('animation-duration', gustSpeed+'ms');
            }
            getData();
            //降雨量
            function creatBall(ele,data){
                new WaterPolo(ele,{
                    cW:55,
                    cH:55,
                    baseY:data
                })
            }
            creatBall('rainfallOne',80);
            creatBall('rainfallTwo',60);
            creatBall('rainfallThree',30);
            creatBall('rainfallFour',20);
        });
    </script>
</body>
</html>